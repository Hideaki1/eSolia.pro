(function(a){a.fn.FeedEkMinimal=function(c){var f=a.extend({FeedUrl:"http://rss.cnn.com/rss/edition.rss",MaxCount:5,ShowDesc:true,ShowPubDate:true,CharacterLimit:0,TitleLinkTarget:"_blank",DateFormat:"",DateFormatLang:"en"},c);var g=a(this).attr("id"),b,d="",e;a("#"+g).empty().append('<img src="/img/loader.gif" />');a.ajax({url:"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+f.MaxCount+"&output=json&q="+encodeURIComponent(f.FeedUrl)+"&hl=en&callback=?",dataType:"json",success:function(h){a("#"+g).empty();a.each(h.responseData.feed.entries,function(j,i){d+='<li><a class="green-text text-accent-3" href="'+i.link+'" target="'+f.TitleLinkTarget+'" >'+i.title+"</a>";if(f.ShowPubDate){e=new Date(i.publishedDate);if(a.trim(f.DateFormat).length>0){try{moment.locale(f.DateFormatLang);d+='<div class="itemDate">'+moment(e).format(f.DateFormat)+"</div>"}catch(j){d+='<div class="itemDate">'+e.toLocaleDateString()+"</div>"}}else{d+='<div class="itemDate blue-grey-text text-darken-1">'+e.toLocaleDateString()+"</div>"}}if(f.ShowDesc){if(f.DescCharacterLimit>0&&i.content.length>f.DescCharacterLimit){d+='<div class="itemContent">'+i.content.substr(0,f.DescCharacterLimit)+"...</div>"}else{d+='<div class="itemContent">'+i.content+"</div>"}}});a("#"+g).append("<ul>"+d+"</ul>")}})}})(jQuery);